# dingtalk-msg-sender

#### 背景
钉钉群支持添加自定义机器人。我们可以通过Webhook的形式向钉钉群推送消息：即通过调用给出的Webhook地址，发送对应的请求，达到推送个性化消息的目的。

#### 介绍
当前工程是一个向钉钉群推送消息的脚手架工程，支持以任务的形式配置。二次开发极为简单，开箱即用。

#### 软件功能
当前工程基于SpringBoot构建，内置了钉钉sdk，并提供了发送钉钉群消息的工具类，可以很方便地发送消息。

当前工程还引入了quartz作为任务调度框架，提供了发送消息的测试任务，我们可以通过配置的形式来自定义发送任务。

当然你也可以选择二次开发，自定义自己的任务，仿照测试任务实现即可。

#### 如何添加自定义机器人

1.  选择钉钉群的群设置
2.  点击智能群助手-添加机器人
3.  选择自定义（通过Webhook接入自定义服务）的机器人
4.  配置机器人的名字
5.  勾选加签（记录这个秘钥，后续需要配置）
6.  最后点击完成即可，完成后我们可以得到Webhook地址（记录这个地址，后续需要配置）

#### 测试任务使用说明

1.  配置application.properties
* 测试任务以test.job[0]作为前缀，支持配置多个，[]中的数字为任务序号
* test.job[0].title表示第一个测试任务的标题
* test.job[0].content表示第一个测试任务的内容，多行用逗号分隔
* test.job[0].cron表示第一个测试任务任务执行的cron表达式（不懂请自行百度cron表表达式）
* test.job[0].atUserPhone表示第一个测试任务通知群中的需要@的人的手机号，多个用逗号分隔
* test.job[0].webhook表示第一个测试任务的群机器人的webhook地址
* test.job[0].robotSecret表示第一个测试任务的群机器人的秘钥

2.  启动项目，查看是否会推送消息到钉钉群

#### 参与贡献

1.[孟佳伟](https://github.com/Arthur-Meng)